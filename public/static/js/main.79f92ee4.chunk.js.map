{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","type","aria-label","link","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","key","PopupWithForm","props","id","isOpen","onSubmit","noValidate","children","EditProfilePopup","onClose","onUpdateUser","useState","setName","description","setDescription","useEffect","title","e","preventDefault","value","onChange","target","minLength","maxLength","required","placeholder","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","cardName","setCardName","cardLink","setLink","ImagePopup","api","url","headers","this","res","ok","json","Promise","reject","statusText","fetch","then","_handleResponse","data","method","body","JSON","stringify","authorization","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","item","Provider","deleteLike","newCard","newCards","c","putLike","deleteCard","filter","info","changeAvatar","setUserInfo","postCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.79f92ee4.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Место. Россия\"/>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card( {card, onCardClick, onCardLike, onCardDelete} ) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    \r\n    const cardDeleteButtonClassName = (\r\n        `photo__delete-button ${isOwn ? 'photo__delete-button_visible' : 'photo__delete-button_hidden'}`\r\n      );\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `photo__like-button ${isLiked ? 'photo__like-button_active' : ''}`;\r\n\r\n    function handleClick() { \r\n        onCardClick(card);\r\n    };\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    };\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card)\r\n    };\r\n    \r\n    return (\r\n        <article className=\"photo\">\r\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" aria-label=\"Удалить фото\"/>\r\n            <img className=\"photo__place\" src={card.link} alt={card.name} onClick={handleClick}/>\r\n            <div className=\"photo__caption\">\r\n            <h2 className=\"photo__title\">{card.name}</h2>\r\n                <div className=\"photo__like-container\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"Добавить лайк\"/>\r\n                    <p className=\"photo__likes\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    )\r\n};\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main( {cards, onCardLike, onCardDelete, onCardClick, onEditProfile, onAddPlace, onEditAvatar} ) { \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Жак-Ив Кусто\"/>\r\n                    <div className=\"profile__wrapper\"></div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <p className=\"profile__about\">{currentUser.about}</p>\r\n                    <button className=\"profile__edit-button\" onClick={onEditProfile}  type=\"button\" aria-label=\"Кнопка редактирования профиля\"/>\r\n                </div>\r\n                <button className=\"profile__add-button\" onClick={onAddPlace} aria-label=\"Кнопка добавления фото места\"/>\r\n            </section>\r\n            <section className=\"photos\">\r\n                {\r\n                    cards.map((card) => <Card key={card._id} card={card} onCardDelete={onCardDelete} onCardLike={onCardLike} onCardClick={() => onCardClick(card)} />)\r\n                }\r\n            </section>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <div id={`${props.name}Popup`} className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <form id={`${props.name}Form`} onSubmit={props.onSubmit} className=\"popup__form\" noValidate>\r\n                    {props.children}\r\n                </form>\r\n            </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup( {isOpen, onClose, onUpdateUser} ) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('')\r\n    const [description, setDescription] = React.useState('');\r\n    \r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    function hanldeChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    };\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description\r\n          });\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm title=\"Редактировать профиль\" onClose={onClose} onSubmit={handleSubmit} name=\"changeProfile\" isOpen={isOpen} >\r\n            <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}/>\r\n            <h3 className=\"popup__heading\">Редактировать профиль</h3>\r\n            <input id=\"input-name\" value={name || ''} onChange={handleChangeName} name=\"name\" className=\"popup__input\" type=\"text\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Имя\" />\r\n            <span id=\"input-name-error\" className=\"popup__error\"/>\r\n            <input id=\"input-about\"  value={description || ''} onChange={hanldeChangeDescription} name=\"about\" className=\"popup__input\" type=\"text\" minLength=\"2\" maxLength=\"200\" required placeholder=\"О себе\" />\r\n            <span id=\"input-about-error\" className=\"popup__error\"/>\r\n            <button className=\"popup__submit-button\" type=\"submit\" aria-label=\"Сохранить\">Сохранить</button>\r\n        </PopupWithForm>\r\n    );\r\n};\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const avatarRef = React.useRef('');\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm title=\"Обновить аватар\" onClose={onClose} name=\"changeAvatar\" isOpen={isOpen} onSubmit={handleSubmit}>\r\n            <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}/>\r\n            <h3 className=\"popup__heading\">Обновить аватар</h3>\r\n            <input id=\"input-link\" ref={avatarRef} name=\"link\" className=\"popup__input\" type=\"url\" required placeholder=\"Ссылка на картинку\"/>\r\n            <span id=\"input-link-error\" className=\"popup__error\"/>\r\n            <button className=\"popup__submit-button\" type=\"submit\" aria-label=\"Создать\">Сохранить</button>\r\n        </PopupWithForm>\r\n    );\r\n};\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'; \r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n    const [cardName, setCardName] = React.useState('');\r\n    const [cardLink, setLink] = React.useState('');\r\n\r\n    function handleChangeCardName(e) {\r\n        setCardName(e.target.value);\r\n    };\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value)\r\n    };\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: cardName,\r\n            link: cardLink\r\n        });\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} onClose={onClose} title=\"Новое место\" name=\"createPhoto\" isOpen={isOpen}>\r\n                <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}/>\r\n                <h3 className=\"popup__heading\">Новое место</h3>\r\n                <input id=\"input-place\" onChange={handleChangeCardName} name=\"name\" className=\"popup__input\" type=\"text\" minLength=\"1\" maxLength=\"30\" required placeholder=\"Название\" />\r\n                <span id=\"input-place-error\" className=\"popup__error\"/>\r\n                <input id=\"input-link\" onChange={handleChangeLink} name=\"link\" className=\"popup__input\" type=\"url\" required placeholder=\"Ссылка на картинку\" />\r\n                <span id=\"input-link-error\" className=\"popup__error\"/>\r\n                <button className=\"popup__submit-button\" aria-label=\"Создать\" type=\"submit\">Создать</button>\r\n        </PopupWithForm>\r\n    )\r\n};\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup( {card, onClose} ) {\r\n    return (\r\n        <div id=\"photoPopup\" onClick={onClose} className={`popup ${card !== null ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__image-container\">\r\n            <button className=\"popup__close-button\" onClick={onClose} type=\"reset\" aria-label=\"Закрыть\"/>\r\n            <img className=\"popup__image\" alt=\"Не определено\" src={(card === null) ? '' : card.link} />\r\n            <p className=\"popup__caption\">{(card === null) ? '' : card.name}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImagePopup;","import {config} from './constants.js';\n\nclass Api {\n    constructor({ url, headers = {} }) {\n        this.url = url;\n        this.headers = headers;\n    }\n\n    _handleResponse(res) {\n        if (res.ok) {\n            return res.json()\n        } else {\n            Promise.reject(res.statusText)\n        }\n    }\n\n    getInitialCards() {\n        return fetch(\n            `${this.url}/cards`,\n            {\n              headers: this.headers\n            }\n        )\n\n        .then(this._handleResponse)\n    }\n\n    postCard(data) {\n        return fetch(\n            `${this.url}/cards`,\n            {\n              headers: this.headers,\n              method: 'POST',\n              body: JSON.stringify({\n                name: data.name,\n                link: data.link\n              })\n            }\n        )\n\n        .then(this._handleResponse)\n    }\n\n     deleteCard(id) {\n        return fetch(\n          `${this.url}/cards/${id}`,\n          {\n            headers: this.headers,\n            method: 'DELETE'\n          }\n        )\n\n        .then(this._handleResponse)\n     }\n\n     changeAvatar(link) {\n        return fetch(\n            `${this.url}/users/me/avatar`,\n            {\n              headers: this.headers,\n              method: 'PATCH',\n              body: JSON.stringify({\n                avatar: link\n              })\n            }\n        )\n\n        .then(this._handleResponse)\n     }\n\n     setUserInfo(name, about) {\n        return fetch(\n          `${this.url}/users/me`,\n          {\n            headers: this.headers,\n            method: 'PATCH',\n            body: JSON.stringify({\n              name: name,\n              about: about,\n            })\n          }\n        )\n\n        .then(this._handleResponse)\n     }\n\n     getUserInfo() {\n        return fetch(\n          `${this.url}/users/me`,\n          {\n            headers: this.headers,\n          }\n        )\n\n        .then(this._handleResponse)\n     }\n\n     putLike(id) {\n        return fetch(\n          `${this.url}/cards/likes/${id}`,\n          {\n            headers: this.headers,\n            method: 'PUT'\n          }\n        )\n\n        .then(this._handleResponse)\n     }\n\n     deleteLike(id) {\n        return fetch(\n          `${this.url}/cards/likes/${id}`,\n          {\n            headers: this.headers,\n            method: 'DELETE'\n          }\n        )\n\n        .then(this._handleResponse)\n     }\n}\n\nconst api = new Api(config);\n\nexport default api;\n","export const formValidationOptions = {\n  formSelector: '.popup__form',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__submit-button',\n  inactiveButtonClass: 'popup__submit-button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible',\n  inactiveErrorClass: 'popup__error'\n};\n\nexport const config = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: '0fb698c6-c0f4-4661-887b-6a574c3a11ac',\n    'Content-Type': 'application/json'\n  }\n};\n\n","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false); \n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getUserInfo()\n            .then((res) => {\n                setCurrentUser(res)     \n            })\n            .catch((err) => { console.log(err) });\n        \n        api.getInitialCards()\n            .then((res) => {   \n                setCards(\n                    res.map((item) => ({\n                        _id: item._id,\n                        link: item.link,\n                        name: item.name,\n                        owner: item.owner,\n                        likes: item.likes\n                    }))\n                )          \n            })\n            .catch((err) => { console.log(err) }) \n        \n    },[])\n\n    function handleEditAvatarClick() { setEditAvatarPopupOpen(true); };\n    function handleEditProfileClick() { setEditProfilePopupOpen(true); };\n    function handleAddPlaceClick() { setAddPlacePopupOpen(true); };\n    function handleCardClick(card) { setSelectedCard(card); }\n\n    function closeAllPopups() {\n        setEditAvatarPopupOpen(false);\n        setEditProfilePopupOpen(false);\n        setAddPlacePopupOpen(false);\n        setSelectedCard(null);\n    }\n\n    function handleUpdateUser(info) {\n        api.setUserInfo(info.name, info.about)\n            .then((res) => {\n                setCurrentUser(res);\n                closeAllPopups();\n            })\n            .catch((err) => { console.log(err) })\n    };\n\n    function handleUpdateAvatar(info) {\n        api.changeAvatar(info.avatar)\n            .then((res) => {\n                setCurrentUser(res);\n                closeAllPopups();\n            })\n            .catch((err) => { console.log(err) })\n    };\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        if (!isLiked) {\n            api.putLike(card._id)\n                .then((newCard) => {\n                    const newCards = cards.map((c) => c._id === card._id ? newCard : c); \n                    setCards(newCards); \n                })\n                .catch((err) => { console.log(err) })\n        } else {\n            api.deleteLike(card._id)\n                .then((newCard) => {\n                    const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                    setCards(newCards);\n                })\n                .catch((err) => { console.log(err) })\n        }   \n    };\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id) \n            .then(() => {\n                const newCards = cards.filter((i) => {\n                    if (i._id !== card._id ) {\n                        return card;\n                    };\n                });\n                setCards(newCards);\n            })\n            .catch((err) => { console.log(err) })   \n    };\n\n    function handleAddPlaceSubmit(newCard) {\n        api.postCard(newCard)\n            .then((res) => {\n                setCards([res, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => { console.log(err) })\n    };\n    \n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n            <Header />\n            <Main cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} onCardClick={handleCardClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick}  />\n            <Footer />\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n            <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n      </div>\n      </CurrentUserContext.Provider> \n    );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}